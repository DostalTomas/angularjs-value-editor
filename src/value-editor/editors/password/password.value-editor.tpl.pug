span.with-confirmation(ng-if="$ctrl.options.withConfirmation")
    .form-group(ng-class="'form-group-' + $ctrl.valueEditorController.size")
        input.form-control(
            type="password"

            id="{{$ctrl.valueEditorController.editorId}}"
            name="{{$ctrl.valueEditorController.editorName}}"
            placeholder="{{$ctrl.valueEditorController.placeholder}}"

            ng-model="$ctrl.model"
            ng-model-options="{ getterSetter: true}"

            ng-class="'input-' + $ctrl.valueEditorController.size"

            ng-disabled="$ctrl.valueEditorController.isDisabled"

            ng-required="$ctrl.valueEditorController.validations.required"
            ng-minlength="$ctrl.valueEditorController.validations.minlength"
            ng-maxlength="$ctrl.valueEditorController.validations.maxlength"
            ng-pattern="$ctrl.valueEditorController.validations.pattern"
            kp-additional-text-validations
            kp-model-equals="{{$ctrl.passwordRepetition}}"

            kp-async-validation="$ctrl.valueEditorController.validations.async"

            kp-focusable-input="$ctrl.connectToFocusApi($api)"

            pattern-description-tooltip

            error-messages

            data-main-input
        )

        span.help-block(ng-class="'size-' + $ctrl.valueEditorController.size")
            span.text-muted(ng-class="'size-' + $ctrl.valueEditorController.size" ng-show="!$ctrl.valueEditorController.validations.required") {{$ctrl.localize('noChangeIfEmpty')}}

    .form-group(ng-class="'form-group-' + $ctrl.valueEditorController.size")
        label(for="{{$ctrl.valueEditorController.editorId}}_repetition") {{$ctrl.localize('confirmPassword')}}

        input.form-control.confirmation(
            type="password"

            id="{{$ctrl.valueEditorController.editorId}}_repetition"
            name="{{$ctrl.valueEditorController.editorName}}_repetition"
            placeholder="{{$ctrl.valueEditorController.placeholder}}"

            ng-model="$ctrl.passwordRepetition"
            ng-model-options="{ getterSetter: true}"

            ng-class="'input-' + $ctrl.valueEditorController.size"

            ng-disabled="$ctrl.valueEditorController.isDisabled"

            ng-required="$ctrl.valueEditorController.validations.required"
            ng-minlength="$ctrl.valueEditorController.validations.minlength"
            ng-maxlength="$ctrl.valueEditorController.validations.maxlength"
            ng-pattern="$ctrl.valueEditorController.validations.pattern"
            kp-additional-text-validations
        )

span.without-confirmation(ng-if="!$ctrl.options.withConfirmation")
    input.form-control(
        type="password"

        id="{{$ctrl.valueEditorController.editorId}}"
        name="{{$ctrl.valueEditorController.editorName}}"
        placeholder="{{$ctrl.valueEditorController.placeholder}}"

        ng-model="$ctrl.model"
        ng-model-options="{ getterSetter: true}"

        ng-class="'input-' + $ctrl.valueEditorController.size"

        ng-disabled="$ctrl.valueEditorController.isDisabled"

        ng-required="$ctrl.valueEditorController.validations.required"
        ng-minlength="$ctrl.valueEditorController.validations.minlength"
        ng-maxlength="$ctrl.valueEditorController.validations.maxlength"
        ng-pattern="$ctrl.valueEditorController.validations.pattern"
        kp-additional-text-validations

        kp-async-validation="$ctrl.valueEditorController.validations.async"

        kp-focusable-input="$ctrl.connectToFocusApi($api)"

        error-messages

        data-main-input
    )

